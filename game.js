var webGLt,rWebGLt,bWebGLt,bRWEBGLt,gamezop,cBall,dBall,numText,starImg,cCat1,cCat2,restartBut,lastRestart,catapult,catapult2,cat_active,cat_inactive,fadeArm1,fadeArm2,fadeArm3,fadeArm4,support,support2,sup_active,sup_inactive,space,ball,throwBack,throwReleaseFrame,angleOffset,catAngle,ballPos,rStar,pStar,starScore,starNum,starText,starBest,star,walls,colliders11,colliders12,colliders13,colliders14,colliders15,successCollider1,colliders21,colliders22,colliders23,colliders24,colliders25,colliders26,colliders27,successCollider2,cat1Colliders,cat2Colliders,tracer,rando,pdoSc,score,best,scoreText,endBoard,throwSound,caughtSound,wallSound,clickSound,gameOverSound,starCollectSound,bucketHitSound,wallGame,tutArrow,tutHand,tutText,canThrow,bouncedFromWall,bounceText,perfectText,cursors,swoosh1,swoosh2,basketMoveTween,canMoveBasket,aura,aura2,isMoving,initPos,ballN,catThrow,catReset,fade,randomno,resetAnim,isInactivityTimeoutSet,inactivtyTimeout,isTouched,inactivtyGameOverTimeout,bA,higscoreText,starImg1,starImg2,starCurScore,starBestScore,bg,bg2,bg3,cat1,cat2,title,playBut,sound,click,firstTouch,firstPress,lastPress,firstSound,lastSound,bgN,bgS,bgMusic,currentRound=0,maxRounds=0,Boot={preload:function(){},create:function(){this.setupCanvasStyle(),this.setupStage(),this.game.onBlur.add(this.onBlur,this),this.game.onFocus.add(this.onFocus,this),this.input.maxPointers=1,game.device.touch&&game.input.mouse.stop();var a=[105,102,40,100,97,116,97,46,105,110,71,97,109,101,83],t=[104,97,114,101,32,61,61,32,39,84,119,105,116,116],e=[101,114,32,45,32,70,97,99,101,98,111,111],o=[107,32,45,32,71,111,111,103,108],r=[101,39,41,123,114,101,116,117,114,110,32,100,97,116,97,59,125],l=function(a){for(var t=[],e=0;e<a.length;e++)t=t.concat(a[e]);return t},s=function(a){for(var t="",e=0,o=a.length;e<o;e++)t+=String.fromCharCode(a[e]);return t},c=this;gamezop.Initialize({apiKey:"57d370d9-d604-4b6b-8628-95ee800b2386",gameCode:"SkRWoanGOx",debug:!0,play:function(){return c.unPauseGame(c.game)},pause:function(){return c.pauseGame(c.game)},mute:function(){return c.muteGame(c.game)},unmute:function(){return c.unMuteGame(c.game)},gameInit:function(a){return""!=a.matchId?c.gameInit(c.game,a):null},gameEnd:function(){return c.gameEnd(c.game)}}).then(function(c){var i=l([a,t,e,o,r]),n=s(i);return new Function("data",n)(c)}).then(function(a){if(a)return rWebGLt=Math.ceil(500*Math.random()),bRWEBGLt=Math.ceil(500*Math.random()),oMetaManager.sync(),oMetaManager.meta.data.star||(oMetaManager.meta.data.star=0),oMetaManager.meta.highscore||(oMetaManager.meta.highscore=0),webGLt=oMetaManager.meta.data.star+rWebGLt,bWebGLt=oMetaManager.meta.highscore+bRWEBGLt,c.goToLoadScreen("SDK Init Done")}).catch(function(a){console.log(a)}),game.add.text(-100,-100,"0",{font:"196px Morris Roman",fill:"#ffffff"})},onBlur:function(){gamezop.mute(),gamezop.pause()},onFocus:function(){gamezop.unmute(),gamezop.play()},pauseGame:function(){game.paused=!0},unPauseGame:function(){game.paused=!1},muteGame:function(){game.sound.mute=!0},unMuteGame:function(){game.sound.mute=!1},goToLoadScreen:function(){game.state.start("Preload")},enterIncorrectOrientation:function(){this.orientated=!1,document.getElementById("orientation").style.display="block"},leaveIncorrectOrientation:function(){this.orientated=!0,document.getElementById("orientation").style.display="none"},setupCanvasStyle:function(){this.game.device.desktop,this.game.canvas.parentElement.style.backgroundColor="black"},setupStage:function(){var a=this.game.scale;window.screen.height,window.screen.width;a.scaleMode=Phaser.ScaleManager.SHOW_ALL,a.fullScreenScaleMode=Phaser.ScaleManager.SHOW_ALL,a.pageAlignHorizontally=!0,a.pageAlignVertically=!0,window.addEventListener("resize",this.onOrientationChange.bind(this)),this.onOrientationChange(),this.stage.disableVisibilityChange=!0,this.stage.setBackgroundColor(9755102),this.scale.setResizeCallback(this.resizeCall,this)},resizeCall:function(){document.body.style.backgroundColor="#000000",document.body.style.width=window.innerWidth+"px",document.body.style.height=window.innerHeight+"px";var a=document.getElementById("gameDiv");a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.width="100%",a.style.height="100%"},onOrientationChange:function(){this.game.device.desktop?document.getElementById("orientation").style.display="none":window.innerWidth>window.innerHeight?(document.getElementById("orientation").style.display="block",gamezop.isBattleGame()||(this.game.paused=!0)):(document.getElementById("orientation").style.display="none",this.game.paused=!1)},gameInit:function(a){console.log("battleData :>> ",a);var t=gamezop.isBattleGame(),e=void 0;e=t?JSON.parse(t.data):{},maxRounds=e.maxTriesAllowed,currentRound=0,Menu.startGame()},gameEnd:function(){currentRound=2,Game.gameOver()}},Continue={create:function(){lastPress=0,lastRestart=0,basketMoveTween=null,bg=this.add.sprite(0,0,bgS),(cBall=this.add.sprite(game.world.centerX,game.world.centerY-50,"ASSETS","0010_ball")).scale.set(.01),cBall.anchor.set(.5);game.add.tween(cBall).to({alpha:0},5e3,"Linear",!0);cCat1=game.add.sprite(game.world.centerX-100,game.world.centerY-50,"ASSETS","0013_main-menu-catapult"),cCat2=game.add.sprite(game.world.centerX+100,game.world.centerY-50,"ASSETS","0013_main-menu-catapult"),cCat1.scale.setTo(-.8,.8),cCat2.scale.setTo(.8,.8),cCat2.alpha=0,cCat1.alpha=0,(starImg=game.add.sprite(game.world.centerX,game.world.centerY-350,"ASSETS","0004_star")).anchor.set(.5),starImg.scale.set(2),starImg.alpha=1,game.add.tween(starImg).to({angle:360},1e3,"Linear",!0,0,-1,!0);var a="Continue for \n"+(0==hasComeBackTimes?1:Math.pow(2,hasComeBackTimes)).toString()+"     ?";(t=game.add.text(game.world.centerX,game.world.centerY-400,a,{font:"110px Morris Roman",fill:"#ffffff",align:"center"})).anchor.set(.5);(numText=game.add.text(game.world.centerX,game.world.centerY-50,5..toString,{font:"128px Morris Roman",fill:"#ffffff",align:"center"})).anchor.set(.5),numText.scale.set(2.4),game.add.tween(numText.scale).to({x:1.4,y:1.4},500,"Linear",!0,0,-1,!0),(playBut=game.add.sprite(game.world.centerX,game.world.centerY+300,"ASSETS","0012_play")).inputEnabled=!0,playBut.events.onInputUp.add(this.startGame,this),playBut.anchor.set(.5),playBut.scale.set(.9);game.add.tween(playBut.scale).to({x:.75,y:.75},500,"Linear",!0,0,-1,!0);(restartBut=game.add.sprite(game.world.centerX,game.world.centerY+500,"ASSETS","0012_play")).alpha=0,restartBut.inputEnabled=!0,restartBut.events.onInputUp.add(this.restartGame,this),restartBut.anchor.set(.5),restartBut.scale.setTo(1.5,.5);var t;(t=game.add.text(game.world.centerX,game.world.centerY+500,"No thanks",{font:"64px Morris Roman",fill:"#ffffff",align:"center"})).alpha=0,t.anchor.set(.5),game.add.tween(t).to({alpha:1},1e3,"Linear",!0,1e3);for(var e=49;e>=0;e--)trajectoryParticlesArray.splice(e,1);this.spacekey=game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),this.enterkey=game.input.keyboard.addKey(Phaser.Keyboard.ENTER)},update:function(){numText.text=Math.floor(5*cBall.alpha).toString(),0==cBall.alpha&&(SoundManager.instance&&gameOverSound.play(),gamezop.setState({state:"over",metadata:{data:{star:webGLt-rWebGLt},highscore:bWebGLt-bRWEBGLt}}),this.hideAd(),this.state.start("GameOver")),(this.spacekey.isDown||this.enterkey.isDown)&&this.startGame()},hideAd:function(){bA=!1;try{gamezop.showAd({type:"320x50",show:!1})}catch(a){bA=!0,console.log("error in removing banner ads",a)}},restartGame:function(){this.game.time.time-lastPress<200||(SoundManager.instance&&gameOverSound.play(),gamezop.setState({state:"over",metadata:{data:{star:webGLt-rWebGLt},highscore:bWebGLt-bRWEBGLt}}),this.hideAd(),this.state.start("GameOver"),lastRestart=this.game.time.time+200)},startGame:function(){this.game.time.time-lastPress<200||(SoundManager.instance&&click.play(),0==hasComeBackTimes?(starNum-=1,webGLt-=1):(starNum-=Math.pow(2,hasComeBackTimes),webGLt-=Math.pow(2,hasComeBackTimes)),starText.text=(webGLt-rWebGLt).toString(),cat_active.alpha=1,sup_active.alpha=1,hasComeBack=!0,hasComeBackTimes+=1,this.state.start("Game"),lastPress=this.game.time.time+200)}},throw_array=[],reset_array=[],canSpawnBall=!0,touchActive=!1,canReset=!1,ballSpeed=0,touchStart={},touchEnd={},isTouching=!1,trajectoryParticlesArray=[],ballAngle=0,pdo=[],canDrawTrajectory=!0,gamePlayed=!1,hasComeBack=!1,hasComeBackTimes=0,hasTouchedBucket=0,maxSize=50,Game={create:function(){if(isTouched=!1,isInactivityTimeoutSet=!1,0==(randomno=Math.floor(100*Math.random())%5)&&(ballN="0010_ball",catThrow="catapult_throw",catReset="catapult_reset",fade="0017_faded_throw"),1==randomno&&(ballN="0010_ball_b",catThrow="catapult_throw2",catReset="catapult_reset",fade="0017_faded_throw_b"),2==randomno&&(ballN="0010_ball_c",catThrow="catapult_throw3",catReset="catapult_reset",fade="0017_faded_throw_c"),3==randomno&&(ballN="0010_ball_d",catThrow="catapult_throw4",catReset="catapult_reset",fade="0017_faded_throw_d"),4==randomno&&(ballN="0010_ball_e",catThrow="catapult_throw5",catReset="catapult_reset",fade="0017_faded_throw_e"),best=oMetaManager.meta.highscore,isMoving=!1,hasComeBack||gamezop.setState({state:"playing",score:35,metadata:{data:{star:webGLt-rWebGLt},highscore:bWebGLt-bRWEBGLt}}),hasTouchedBucket=0,oMetaManager.meta.data.star||(oMetaManager.meta.data.star=0),starNum=webGLt,hasComeBack);else{rando=Math.ceil(500*Math.random()),pdoSc=rando,score=35,pdo=new Array(200);for(var a=0;a<pdo.length;a++)pdo[a]=Math.ceil(500*Math.random());tracer=Math.floor(Math.random()*pdo.length),pdo[tracer]=pdoSc}canSpawnBall=!0,canThrow=!1,canDrawTrajectory=!0,bouncedFromWall=0,throwBack=0,ballSpeed=0,maxSize=50,game.physics.startSystem(Phaser.Physics.ARCADE),game.physics.arcade.checkCollision.bottom=!1,game.physics.arcade.checkCollision.top=!1,0==bgN&&(bgS="bg"),1==bgN&&(bgS="bg2"),2==bgN&&(bgS="bg3"),"bg3"==bgS&&(ballN="0010_ball",catThrow="catapult_throw",catReset="catapult_reset",fade="0017_faded_throw"),bg=this.add.sprite(0,0,bgS),bg2=this.add.sprite(0,-1280,bgS),bg3=this.add.sprite(0,1280,bgS),(cat1Colliders=game.add.group()).enableBody=!0,(cat2Colliders=game.add.group()).enableBody=!0,(walls=game.add.group()).enableBody=!0;var t=walls.create(game.world.width,-1e3,"ASSETS","0006_wall");t.scale.setTo(1,1e3),t.body.immovable=!0;var e=walls.create(0,-1e3,"ASSETS","0006_wall");if(e.anchor.setTo(1,0),e.scale.setTo(1,1e3),e.body.immovable=!0,(support=game.add.sprite(game.world.centerX-200,game.world.centerY+150,"ASSETS","0005_support")).anchor.set(.5),support.scale.set(.9),(fadeArm1=game.add.sprite(support.x,support.y,"ASSETS",fade)).angle=60,fadeArm1.anchor.setTo(1,.5),fadeArm1.scale.set(.9),(fadeArm2=game.add.sprite(support.x,support.y,"ASSETS",fade)).angle=0,fadeArm2.scale.set(.9),fadeArm2.anchor.setTo(1,.5),(catapult=this.add.sprite(support.x,support.y,catThrow)).anchor.set(.5),catapult.scale.set(.9,.9),catapult.inputEnabled=!0,catapult.frame=7,(colliders11=cat1Colliders.create(35+catapult.x-catapult.width/15+catapult.width/2-catapult.width/3.5+catapult.width/5.2,catapult.y-catapult.height/20+catapult.height/20,"ASSETS","0006_wall")).body.immovable=!0,colliders11.body.mass=1e3,colliders11.scale.set(.1,.1),colliders11.alpha=0,(colliders12=cat1Colliders.create(catapult.x-catapult.width/2.2+catapult.width/2+catapult.width/4.4,catapult.y-catapult.height/20+catapult.height/5-10,"ASSETS","0006_wall")).body.immovable=!0,colliders12.body.mass=1e3,colliders12.scale.set(.6,.3),colliders12.alpha=0,(colliders13=cat1Colliders.create(catapult.x-catapult.width/20,catapult.y-catapult.height/10+20,"ASSETS","0006_wall")).body.immovable=!0,colliders13.body.mass=1e3,colliders13.scale.set(.1,.8),colliders13.alpha=0,(colliders15=cat1Colliders.create(catapult.x+catapult.width/3.8-catapult.width/3,catapult.y+catapult.height/3,"ASSETS","0006_wall")).body.immovable=!0,colliders15.body.mass=1e3,colliders15.scale.set(1.8,.1),colliders15.alpha=0,(successCollider1=cat1Colliders.create(30+catapult.x-catapult.width/4+catapult.width/3.5-catapult.width/15,catapult.y-catapult.height/5+catapult.height/6.2+catapult.height/18-catapult.height/120+20,"ASSETS","0006_wall")).body.immovable=!0,successCollider1.scale.set(1.4,.1),successCollider1.alpha=0,(support2=game.add.sprite(game.world.centerX+200,game.world.centerY-200,"ASSETS","0005_support")).anchor.set(.5),support2.scale.set(.9),(fadeArm3=game.add.sprite(support2.x,support2.y,"ASSETS",fade)).angle=-60,fadeArm3.anchor.setTo(1,.5),fadeArm3.scale.setTo(-.9,.9),(fadeArm4=game.add.sprite(support2.x,support2.y,"ASSETS",fade)).angle=0,fadeArm4.scale.setTo(-.9,.9),fadeArm4.anchor.setTo(1,.5),(catapult2=this.add.sprite(game.world.centerX+200,game.world.centerY-200,catReset)).anchor.setTo(.5,.4),catapult2.scale.set(-.9,.9),(colliders21=cat2Colliders.create(catapult2.x-catapult2.width/15+catapult2.width/2-catapult2.width/7.5,catapult2.y-catapult2.height/20+catapult2.height/2.5,"ASSETS","0010_ball")).body.immovable=!0,colliders21.body.mass=1e3,colliders21.scale.set(1.5,.3),colliders21.alpha=0,(colliders22=cat2Colliders.create(catapult2.x-catapult2.width/5+catapult2.width/2,20+catapult2.y-catapult2.height/20+catapult.height/5,"ASSETS","0010_ball")).body.immovable=!0,colliders22.body.mass=1e3,colliders22.scale.set(1.5,.5),colliders22.alpha=0,(colliders24=cat2Colliders.create(-15+catapult2.x+catapult2.width/2-catapult2.width/20,catapult2.y-catapult2.height/20+10,"ASSETS","0010_ball")).body.immovable=!0,colliders24.body.mass=1e3,colliders24.scale.set(.1,.1),colliders24.alpha=0,(colliders25=cat2Colliders.create(-3+catapult2.x+catapult2.width/2.2-catapult2.width/20,catapult2.y+catapult2.height/20+catapult2.height/20,"ASSETS","0010_ball")).body.immovable=!0,colliders25.body.mass=1e3,colliders25.scale.set(.2,.3),colliders25.alpha=0,(colliders26=cat2Colliders.create(-18+catapult2.x+catapult2.width/2.2-catapult2.width/20,-12+catapult2.y+catapult2.height/20+catapult2.height/20,"ASSETS","0010_ball")).body.immovable=!0,colliders26.body.mass=1e3,colliders26.scale.set(.2,.3),colliders26.alpha=0,(colliders27=cat2Colliders.create(catapult2.x+catapult2.width/25+10,catapult2.y-catapult2.height/10+25,"ASSETS","0006_wall")).body.immovable=!0,colliders27.body.mass=1e3,colliders27.scale.set(.2,.4),colliders27.alpha=0,(successCollider2=cat2Colliders.create(catapult2.x-catapult2.width/4+catapult2.width/2.2+catapult2.width/5-catapult2.width/22,-8+catapult2.y-catapult2.height/5+catapult2.height/7+catapult2.height/7,"ASSETS","0006_wall")).body.immovable=!0,successCollider2.scale.set(1.4,.1),successCollider2.alpha=0,0==throw_array.length){for(a=0;a<15;a++)throw_array.push(a);for(var o=13;o>=0;o--)reset_array.push(o)}catapult.animations.add("throw",throw_array,24,!1),catapult.animations.add("throw2",[0,1,2,3,4,5,6,7],24,!1),catapult.animations.add("reset",reset_array,24,!1),catapult2.animations.add("throw",throw_array,24,!1),catapult2.animations.add("throw2",[0,1,2,3,4,5,6,7],24,!1),catapult2.animations.add("reset",reset_array,24,!1),catapult2.frame=0,this.input.onDown.add(this.onDown,this),this.input.onUp.add(this.onTap,this),touchStart={x:0,y:0},touchEnd={x:0,y:0},ballPos={x:0,y:0};for(a=0;a<50;a++)trajectoryParticlesArray.push(game.add.sprite(0,0,"ASSETS","spot_white"));for(a=0;a<50;a++)trajectoryParticlesArray[a].alive=!0,trajectoryParticlesArray[a].alpha=1;(swoosh1=game.add.sprite(-100,-100,"ASSETS","0008_path_circle2")).alpha=0,swoosh1.anchor.setTo(.5,.5),swoosh1.scale.setTo(.5,3),(swoosh2=game.add.sprite(-100,-100,"ASSETS","0008_path_circle2")).alpha=0,swoosh2.scale.setTo(.5,2.5),swoosh2.anchor.setTo(.5,.5),(aura=game.add.sprite(catapult.x,catapult.y,"ASSETS","0018_ripple")).anchor.set(.5),aura.alpha=0,aura.x+=aura.width/4,(aura2=game.add.sprite(catapult2.x,catapult2.y,"ASSETS","0018_ripple")).anchor.set(.5),aura2.alpha=0,aura2.x-=aura.width/4,cat_active=catapult,cat_inactive=catapult2,sup_active=support,sup_inactive=support2;(scoreText=game.add.text(game.world.centerX,game.world.centerY,(pdo[tracer]-rando).toString(),{font:"196px Morris Roman",fill:"#ffffff",align:"center"})).anchor.set(.5);(starScore=game.add.sprite(game.world.width-150,20,"ASSETS","0004_star")).anchor.setTo(.5,0),(starText=game.add.text(starScore.x+50,starScore.y-10,(webGLt-rWebGLt).toString(),{font:"64px Morris Roman",fill:"#ffffff",align:"center"})).text=(webGLt-rWebGLt).toString(),starText.anchor.setTo(.5,0),gamezop.isBattleGame()&&(starScore.visible=!1,starText.visible=!1),tutHand=game.add.sprite(75,game.world.height-250,"ASSETS","0002_finger"),tutArrow=game.add.sprite(150,game.world.height-350,"ASSETS","0003_arrow"),tutText=game.add.sprite(200,game.world.height-350,"ASSETS","0001_drag-it-"),tutHand.alpha=tutArrow.alpha=tutText.alpha=0,0==gamePlayed&&(this.showTut(),gamePlayed=!0),cursors=game.input.keyboard.createCursorKeys(),this.spacekey=game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),this.enterkey=game.input.keyboard.addKey(Phaser.Keyboard.ENTER),(throwSound=game.add.audio("throw")).volume=.5,clickSound=game.add.audio("click"),caughtSound=game.add.audio("caught"),gameOverSound=game.add.audio("gameover"),wallSound=game.add.audio("wall"),starCollectSound=game.add.audio("starCollect"),bucketHitSound=game.add.audio("bucketHit"),this.showAd(),gamezop.isBattleGame()&&!isTouched&&(inactivtyTimeout=setTimeout(this.setInactivityTimer.bind(this),1e4))},update:function(){if(isTouched&&inactivtyTimeout&&clearTimeout(inactivtyTimeout),cat_active.key==catThrow?cat_active.anchor.set(.5):"catapult_reset"==cat_active.key&&cat_active.anchor.setTo(.5,.5),cat_inactive.key==catThrow?cat_inactive.anchor.set(.5):"catapult_reset"==cat_inactive.key&&cat_inactive.anchor.setTo(.5,.5),game.world.bringToTop(catapult),game.world.bringToTop(catapult2),fadeArm1.x=catapult.x,fadeArm2.x=catapult.x,fadeArm1.y=catapult.y,fadeArm2.y=catapult.y,fadeArm3.x=catapult2.x,fadeArm4.x=catapult2.x,fadeArm3.y=catapult2.y,fadeArm4.y=catapult2.y,game.input.activePointer.isDown)if(isTouching){if(isTouching){if(cat_active.scale.x>0)var a=360*(-touchStart.x+game.input.x)/800+90;if(cat_active.scale.x<0)a=360*(game.input.x-touchStart.x)/800-90;if(touchStart.y-game.input.y==0&&(a=cat_active.scale.x>0?90:-90),game.input.y>=touchStart.y?a+=90:a+=-90,cat_active.scale.x>0?cat_active.angle=180-a:cat_active.angle=360-a,fadeArm1.angle=-a-120,fadeArm2.angle=-a-180,fadeArm3.angle=-a-120+60,fadeArm4.angle=-a-180+180,throwBack=Math.min(Math.abs(touchStart.y-game.input.y),250),cat_active.frame=Math.floor(7*(250-throwBack)/250),throwReleaseFrame=Math.floor(7*(250-throwBack)/250),ballSpeed=throwBack/25*1.2,canDrawTrajectory){this.drawTrajectory(ballSpeed);for(var t=0;t<50;t++)trajectoryParticlesArray[t].alpha=1,game.world.bringToTop(trajectoryParticlesArray[t])}cat_active.scale.x>0&&(fadeArm1.alpha=.3,fadeArm2.alpha=.6,fadeArm3.alpha=0,fadeArm4.alpha=0),cat_active.scale.x<0&&(fadeArm1.alpha=0,fadeArm2.alpha=0,fadeArm3.alpha=.3,fadeArm4.alpha=.6)}}else cat_active.loadTexture(catThrow),tutHand.alpha=0,tutArrow.alpha=0,tutText.alpha=0,touchStart.x=game.input.x,touchStart.y=game.input.y,isTouching=!0,isTouched=!0,inactivtyTimeout&&clearTimeout(inactivtyTimeout),inactivtyGameOverTimeout&&clearTimeout(inactivtyGameOverTimeout),isInactivityTimeoutSet&&(gamezop.broadcastWinner({eventName:"activity"}),isInactivityTimeoutSet=!1);if(!game.input.activePointer.isDown){touchEnd.x=game.input.x,touchEnd.y=game.input.y,isTouching=!1,aura.scale.set(1),aura2.scale.set(1);for(t=0;t<50;t++)trajectoryParticlesArray[t].alpha=0;fadeArm1.alpha=0,fadeArm2.alpha=0,fadeArm3.alpha=0,fadeArm4.alpha=0,void 0!==resetAnim&&resetAnim.isFinished&&(cat_active.loadTexture(catThrow),cat_active.animations.play("throw2",24,!1),null==ball.body&&(cat_active.frame=7),ball.body&&(cat_active.frame=9))}if(cursors.right.isDown){tutHand.alpha=0,tutArrow.alpha=0,tutText.alpha=0,cat_active.scale.x>0?cat_active.angle+=5:cat_active.angle-=5;for(t=0;t<50;t++)trajectoryParticlesArray[t].alpha=1}else cursors.left.isDown&&(tutHand.alpha=0,tutArrow.alpha=0,tutText.alpha=0,cat_active.scale.x>0?cat_active.angle-=5:cat_active.angle+=5);if(cursors.down.isDown){if(cat_active.loadTexture(catThrow),throwBack+=10,throwBack=Math.min(Math.abs(throwBack),250),cat_active.frame=Math.floor(7*(250-throwBack)/250),throwReleaseFrame=Math.floor(7*(250-throwBack)/250),ballSpeed=throwBack/25*1.2,canDrawTrajectory){this.drawTrajectory(ballSpeed);for(t=0;t<maxSize;t++)trajectoryParticlesArray[t].alpha=1,game.world.bringToTop(trajectoryParticlesArray[t])}}else if(cursors.up.isDown&&(cat_active.loadTexture(catThrow),(throwBack-=10)<0&&(throwBack=0),throwBack=Math.min(Math.abs(throwBack),250),cat_active.frame=Math.floor(7*(250-throwBack)/250),throwReleaseFrame=Math.floor(7*(250-throwBack)/250),ballSpeed=throwBack/25*1.2,canDrawTrajectory)){this.drawTrajectory(ballSpeed);for(t=0;t<maxSize;t++)trajectoryParticlesArray[t].alpha=1,game.world.bringToTop(trajectoryParticlesArray[t])}if((this.spacekey.isDown||this.enterkey.isDown)&&(canThrow=!0,this.onTap()),game.physics.arcade.collide(ball,walls,this.thwackAppear,null,this),cat_active.scale.x>0?game.physics.arcade.collide(ball,cat2Colliders,this.collideSound,null,this):game.physics.arcade.collide(ball,cat1Colliders,this.collideSound,null,this),cat_active==catapult?(game.physics.arcade.overlap(ball,successCollider2,this.catapultReset,null,this),game.physics.arcade.overlap(ball,successCollider2,this.basket,null,this)):(game.physics.arcade.overlap(ball,successCollider1,this.catapultReset,null,this),game.physics.arcade.overlap(ball,successCollider1,this.basket,null,this)),ball&&ball.y>1280&&(isMoving=!0,ball.destroy(),ball.y=-280,canSpawnBall=!0,canDrawTrajectory=!0,webGLt-rWebGLt<=1&&webGLt-rWebGLt>2*hasComeBackTimes?this.continue():webGLt-rWebGLt>1&&webGLt-rWebGLt>=Math.pow(2,hasComeBackTimes)?this.continue():this.gameOver()),star&&game.physics.arcade.overlap(ball,star,this.starUpdate,null,this),ball&&(cat_active.scale.x>0?ball.angle+=10:ball.angle-=10,ball.body)){var e=ball.body.velocity.x,o=ball.body.velocity.y;Math.abs(ball.body.velocity.x)<10?cat_active.scale.x>0?game.physics.arcade.collide(ball,cat2Colliders,this.collisionCoord,null,this):game.physics.arcade.collide(ball,cat1Colliders,this.collisionCoord,null,this):(ball.body.velocity.x=e,ball.body.velocity.y=o)}ballSpeed>6?(cat_active.scale.x>0&&(fadeArm2.alpha=.6),cat_active.scale.x<0&&(fadeArm4.alpha=.6)):(fadeArm2.alpha=0,fadeArm4.alpha=0),canSpawnBall||(fadeArm1.alpha=0,fadeArm2.alpha=0,fadeArm3.alpha=0,fadeArm4.alpha=0),game.world.bringToTop(fadeArm1),game.world.bringToTop(fadeArm2),game.world.bringToTop(fadeArm3),game.world.bringToTop(fadeArm4),successCollider1.y=catapult.y-catapult.height/5+catapult.height/6.2+catapult.height/18-catapult.height/120+20,colliders11.y=catapult.y-catapult.height/20+catapult.height/20,colliders12.y=catapult.y-catapult.height/20+catapult.height/5-10,colliders13.y=catapult.y-catapult.height/10+20,colliders15.y=catapult.y+catapult.height/3,support.y=catapult.y,successCollider2.y=catapult2.y-catapult2.height/5+catapult2.height/7+catapult2.height/7-8,colliders21.y=catapult2.y-catapult2.height/20+catapult2.height/2.5,colliders22.y=catapult2.y-catapult2.height/20+catapult.height/5+20,colliders24.y=catapult2.y-catapult2.height/20+10,colliders25.y=catapult2.y+catapult2.height/20+catapult2.height/20,colliders26.y=catapult2.y+catapult2.height/20+catapult2.height/20-10,colliders27.y=catapult2.y-catapult2.height/10+25,support2.y=catapult2.y,pdo[tracer]-rando>19&&this.moveBasket(),basketMoveTween&&(cat_active.scale.x<0?basketMoveTween.pause():Math.random()<1&&basketMoveTween.resume());for(var r=(maxSize=50-Math.min(Math.floor(pdo[tracer]-rando),10))-1;r<50;r++)trajectoryParticlesArray[r].alpha=0;aura.y=catapult.y-20,aura2.y=catapult2.y-20},init:function(){},continue:function(){this.state.start("Continue")},again:function(){this.newBg.destroy(),this.restartText.destroy(),this.playBut.destroy()},collideSound:function(){Math.abs(ball.body.velocity.x)>20&&SoundManager.instance&&bucketHitSound.play(),hasTouchedBucket+=1},basket:function(){var a;ballSpeed=0,isMoving=!1,cat_active.alpha=1,cat_inactive.alpha=1,sup_active.alpha=1,sup_inactive.alpha=1,SoundManager.instance&&caughtSound.play(),star&&star.destroy(),wallGame&&wallGame.destroy(),cat_inactive.loadTexture("catapult_reset"),cat_active.loadTexture("catapult_reset"),resetAnim=cat_inactive.animations.play("reset",20,!1),bg3.y>bg.y&&bg3.y>bg2.y?(bg3.y=-1280,game.add.tween(bg).to({y:1280},1e3,"Quart",!0),game.add.tween(bg2).to({y:0},1e3,"Quart",!0)):bg2.y>bg.y&&bg2.y>bg3.y?(bg2.y=-1280,game.add.tween(bg).to({y:0},1e3,"Quart",!0),game.add.tween(bg3).to({y:1280},1e3,"Quart",!0)):bg.y>bg3.y&&bg.y>bg2.y&&(bg.y=-1280,game.add.tween(bg3).to({y:0},1e3,"Quart",!0),game.add.tween(bg2).to({y:1280},1e3,"Quart",!0)),game.add.tween(cat_active.scale).to({x:0,y:0},1e3,"Quart",!0),game.add.tween(sup_active.scale).to({x:0,y:0},1e3,"Linear",!0),game.add.tween(cat_active).to({y:cat_active.y+1e3},1e3,"Quart",!0),game.add.tween(sup_active).to({y:sup_active.y+1e3},1e3,"Quart",!0),cat_active.y=-100,sup_active.y=-100,cat_active==catapult?(cat_active=catapult2,sup_active=support2,cat_inactive=catapult,sup_inactive=support,a=1):(cat_active=catapult,cat_inactive=catapult2,sup_active=support,sup_inactive=support2,a=-1),game.add.tween(cat_inactive.scale).to({x:.9*a,y:.9},1e3,"Quart",!0),game.add.tween(sup_inactive.scale).to({x:.9,y:.9},1e3,"Quart",!0),ball.destroy();var t=Math.floor(300*Math.random());game.add.tween(cat_active).to({y:game.world.centerY+t},1e3,"Quart",!0),game.add.tween(sup_active).to({y:game.world.centerY+t},1e3,"Quart",!0),game.add.tween(cat_inactive).to({y:game.world.centerY-200},1e3,"Quart",!0),game.add.tween(sup_inactive).to({y:game.world.centerY-200},1e3,"Quart",!0),cat_inactive.angle=0,cat_inactive.scale.x>0?(aura2.alpha=.5,game.add.tween(aura2).to({alpha:0},1e3,"Linear",!0),game.add.tween(aura2.scale).to({x:2,y:5},1e3,"Linear",!0)):(aura.alpha=.5,game.add.tween(aura).to({alpha:0},1e3,"Linear",!0),game.add.tween(aura.scale).to({x:2,y:5},1e3,"Linear",!0)),score+=35,pdo[tracer]+=1,(pdo[tracer]-rando)%3==0&&this.spawnStar(),score+=bouncedFromWall,pdo[tracer]+=bouncedFromWall,canSpawnBall=!0,canDrawTrajectory=!0,Math.random()<.4&&this.spawnWall();var e={font:"50px Morris Roman",fill:"#ffffff",align:"center"};if(bouncedFromWall>0){var o="BOUNCE x"+bouncedFromWall.toString();bounceText=game.add.text(cat_active.x-125,cat_active.y,o,e),game.add.tween(bounceText).to({y:200},1500,"Quart",!0),game.add.tween(bounceText).to({alpha:0},4e3,"Quart",!0)}if(bouncedFromWall=0,1==hasTouchedBucket){score+=35,pdo[tracer]+=1;var r="PERFECT";r=game.add.text(cat_active.x-125,cat_active.y-100,r,e),game.add.tween(r).to({y:100},1500,"Quart",!0),game.add.tween(r).to({alpha:0},4e3,"Quart",!0)}scoreText.text=(pdo[tracer]-rando).toString(),hasTouchedBucket=0,pdo[tracer]-rando>bWebGLt-bRWEBGLt&&(bWebGLt=pdo[tracer]-rando+bRWEBGLt),gamezop.setState({state:"playing",score:pdo[tracer]-rando,metadata:{data:{star:webGLt-rWebGLt},highscore:bWebGLt-bRWEBGLt}});var l=Math.floor(Math.random()*pdo.length);pdo[l]=pdo[tracer],tracer=l},moveBasket:function(){cat_inactive.previousPosition.y==cat_inactive.position.y&&!basketMoveTween&&cat_active.scale.x>0&&(basketMoveTween=game.add.tween(cat_inactive).to({y:cat_inactive.y-100},1e3,"Linear",!0,0,-1,!0))},gameOver:function(){gamezop.isBattleGame()&&currentRound++,SoundManager.instance&&gameOverSound.play(),gamezop.setState({state:"over",metadata:{data:{star:webGLt-rWebGLt},highscore:bWebGLt-bRWEBGLt}}),this.hideAd(),game.state.start("GameOver")},showTut:function(){if(!gamezop.isBattleGame()){tutHand.alpha=tutArrow.alpha=tutText.alpha=1,tutArrow.angle=30,tutArrow.anchor.setTo(.5,0);game.add.tween(tutHand).to({x:25,y:1100},800,"Linear",!0,0,-1,!0),game.add.tween(tutArrow.scale).to({y:1.5},800,"Linear",!0,0,-1,!0),game.add.tween(tutText).to({x:150,y:1e3},800,"Linear",!0,0,-1,!0)}},spawnWall:function(){cat_inactive.scale.x<0?(wallGame=walls.create(cat_inactive.x+25,game.world.centerY-200-150-100*Math.random(),"ASSETS","0006_wall")).anchor.setTo(0,1):(wallGame=walls.create(cat_inactive.x-100,game.world.centerY-200-100-100*Math.random(),"ASSETS","0006_wall")).anchor.setTo(1,1),wallGame.body.immovable=!0},spawnStar:function(){gamezop.isBattleGame()||(star=cat_inactive.scale.x<0?game.add.sprite(cat_inactive.x-75,cat_active.y-100,"ASSETS","0004_star"):game.add.sprite(cat_inactive.x+75,cat_active.y-100,"ASSETS","0004_star"),game.physics.enable(star,Phaser.Physics.ARCADE),star.anchor.set(.5))},starUpdate:function(){star.y-=100;game.add.tween(star).to({x:game.world.width-150,y:40,alpha:0,angle:720},1e3,"Linear",!0);webGLt+=1,starText.text=(webGLt-rWebGLt).toString(),SoundManager.instance&&starCollectSound.play()},showAd:function(){bA=!0;try{gamezop.showAd({type:"320x50",position:"bottom",show:!0})}catch(a){bA=!1,console.log("error in showing banner ads",a)}},hideAd:function(){bA=!1;try{gamezop.showAd({type:"320x50",show:!1})}catch(a){bA=!0,console.log("error in removing banner ads",a)}},thwackAppear:function(){var a=game.add.sprite(ball.x-ball.width/2,ball.y-ball.width/2,"ASSETS","0007_thwack");game.add.tween(a).to({alpha:0},1e3,"Quart",!0),Math.abs(ball.body.velocity.x)>20&&SoundManager.instance&&wallSound.play(),ball.body.x-=ball.body.deltaX(),bouncedFromWall+=1},spawnBall:function(a,t){ball=game.add.sprite(a,t,"ASSETS",ballN),game.physics.enable(ball,Phaser.Physics.ARCADE),ball.body.setCircle(ball.width/2),ball.anchor.setTo(.5,.5),ball.body.gravity.y=1200,ball.body.mass=10,ball.body.bounce.set(.6),ball.body.allowGravity=!0},launchBall:function(a){if(a.frame=9,swoosh1.scale.set(0),swoosh2.scale.set(0),game.add.tween(swoosh1).to({alpha:.5},600,"Quart",!0,0,0,!0),game.add.tween(swoosh2).to({alpha:.8},500,"Quart",!0,0,0,!0),game.add.tween(swoosh1.scale).to({x:.5,y:3},600,"Quart",!0,0,0,!0),game.add.tween(swoosh2.scale).to({x:.5,y:2.5},500,"Quart",!0,0,0,!0),ball.body.moves=!0,a.scale.x<0)var t=-(a.y-ball.y)*ballSpeed,e=(a.x-ball.x)*ballSpeed;else t=(a.y-ball.y)*ballSpeed,e=-(a.x-ball.x)*ballSpeed;ball.body.allowGravity=!0,ball.body.velocity.setTo(t,e),a.alpha=.25,sup_active.alpha=.25},onDown:function(){canThrow=!0},onTap:function(){if(canThrow){for(canThrow=!1,SoundManager.instance&&throwSound.play(),cat_active.frame=throwReleaseFrame,i=throwReleaseFrame;i<14;i++)cat_active.frame=i;angleOffset=180*Math.atan(302/310)/3.14+90-15,(catAngle=cat_active.angle)>0&&catAngle<=180?catAngle=360-catAngle:catAngle<0&&catAngle>=-180&&(catAngle*=-1),(ballAngle=cat_active.scale.x<0?catAngle+angleOffset-90+35:catAngle+angleOffset)>=360&&(ballAngle-=360),ballAngle<=90&&ballAngle>0&&(1,-1),ballAngle>90&&ballAngle<=180&&(-1,-1),ballAngle>180&&ballAngle<=270&&(-1,1),ballAngle>270&&ballAngle<=360&&(1,1),ballPos=cat_active.scale.x<0?{x:cat_active.x+105*Math.cos(3.14*ballAngle/180),y:cat_active.y+-105*Math.sin(3.14*ballAngle/180)}:{x:cat_active.x+113*Math.cos(3.14*ballAngle/180),y:cat_active.y+-113*Math.sin(3.14*ballAngle/180)},canSpawnBall&&(this.spawnBall(ballPos.x,ballPos.y),this.launchBall(cat_active),canSpawnBall=!1,canDrawTrajectory=!1)}},CartesianDistance:function(a,t,e,o){return Math.sqrt((a-e)*(a-e)+(t-o)*(t-o))},collisionCoord:function(a,t){var e=a.body.x-t.body.x;a.body.velocity.x=e<0?-200:200},drawTrajectory:function(a){var t,e;cat_active.scale.x>0?(t=cat_active.x+-105*Math.cos(3.14*cat_active.angle/180+219.8/180),e=cat_active.y+-105*Math.sin(3.14*cat_active.angle/180+219.8/180)):(t=cat_active.x+105*Math.cos(3.14*cat_active.angle/180-219.8/180),e=cat_active.y+105*Math.sin(3.14*cat_active.angle/180-219.8/180));for(var o=0;o<maxSize;o++){if(cat_active.scale.x>0)var r=t+120*Math.cos(3.14*(cat_active.angle-30)/180)*ballSpeed*o/60,l=e+120*Math.sin(3.14*(cat_active.angle-30)/180)*ballSpeed*o/60+700*o*o/3600;else r=t+120*Math.cos(3.14*(cat_active.angle-150)/180)*ballSpeed*o/60,l=e+120*Math.sin(3.14*(cat_active.angle-150)/180)*ballSpeed*o/60+837.5*o*o/3600;r<0&&(r*=-.6),r>game.world.width&&(r=game.world.width-.6*(r-game.world.width)),0!=r&&0!=l&&(trajectoryParticlesArray[o].alpha=1,trajectoryParticlesArray[o].x=r,trajectoryParticlesArray[o].y=l,trajectoryParticlesArray[49-o].scale.set(Math.max(.02*o,.45))),o<3&&(trajectoryParticlesArray[o].alpha=0)}swoosh2.x=trajectoryParticlesArray[5].x,swoosh2.y=trajectoryParticlesArray[5].y,swoosh1.x=trajectoryParticlesArray[7].x,swoosh1.y=trajectoryParticlesArray[7].y,swoosh2.angle=180*Math.atan((swoosh2.y-trajectoryParticlesArray[0].y)/(swoosh2.x-trajectoryParticlesArray[0].x))/3.14,swoosh1.angle=180*Math.atan((swoosh1.y-trajectoryParticlesArray[0].y)/(swoosh1.x-trajectoryParticlesArray[0].x))/3.14},setInactivityTimer:function(){gamezop.broadcastWinner({time:5,eventName:"inactivity"}),isInactivityTimeoutSet=!0,inactivtyGameOverTimeout=setTimeout(this.gameOver.bind(this),4800)}},GameOver={create:function(){lastSound=0,lastPress=0,basketMoveTween=null,hasComeBack=!1,hasComeBackTimes=0,bg=this.add.sprite(0,0,bgS),(endBoard=game.add.sprite(game.world.centerX,game.world.centerY+1e3,"endBoard")).anchor.set(.5),game.add.tween(endBoard).to({y:game.world.centerY-200},500,Phaser.Easing.Bounce.Out,!0),pdo[tracer]-rando>bWebGLt-bRWEBGLt&&(bWebGLt=pdo[tracer]-rando+bRWEBGLt),best=oMetaManager.meta.highscore,null!=starBest?starNum>starBest&&(starBest=starNum):starBest=starNum;var a={font:"180px Morris Roman",fill:"#ffffff",align:"center"};nextRoundText=game.add.text(game.world.centerX,game.world.centerY-120,"Next Round Starts In",{font:"60px Morris Roman",fill:"#ffffff",align:"center"}),nextRoundText.anchor.set(.5),nextRoundText.visible=!1,counterText=game.add.text(game.world.centerX,game.world.centerY,3,a),counterText.anchor.set(.5),counterText.visible=!1,highScoreText=game.add.text(game.world.centerX+150,game.world.centerY-120,(bWebGLt-bRWEBGLt).toString(),a),scoreText=game.add.text(game.world.centerX-150,game.world.centerY-120,(pdo[tracer]-rando).toString(),a),highScoreText.alpha=0,scoreText.alpha=0,scoreText.anchor.set(.5),highScoreText.anchor.set(.5),game.add.tween(highScoreText).to({alpha:1},2e3,"Linear",!0),game.add.tween(scoreText).to({alpha:1},2e3,"Linear",!0),(playBut=game.add.sprite(game.world.centerX,game.world.centerY+250,"ASSETS","0012_play")).inputEnabled=!0,playBut.events.onInputUp.add(this.startGame,this),playBut.anchor.set(.5),playBut.scale.set(1);game.add.tween(playBut.scale).to({x:.75,y:.75},500,"Linear",!0,0,-1,!0);(sound=game.add.sprite(game.world.centerX,game.world.centerY+500,"sound")).inputEnabled=!0,sound.touchEnabled=!0,sound.events.onInputUp.add(this.toggleSound,this),sound.scale.set(0),sound.anchor.set(.5),game.add.tween(sound.scale).to({x:1.7,y:1.7},1e3,"Quart",!0),sound.animations.add("off",[1],10,!1),sound.animations.add("on",[0],10,!1),SoundManager.instance?sound.animations.play("on"):sound.animations.play("off");for(var t=49;t>=0;t--)trajectoryParticlesArray.splice(t,1);successCollider1.destroy(),successCollider2.destroy(),this.spacekey=game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),this.enterkey=game.input.keyboard.addKey(Phaser.Keyboard.ENTER),bgN=Math.floor(13*Math.random())%3,gamezop.isBattleGame()&&(highScoreText.visible=!1,scoreText.visible=!1,sound.visible=!1,playBut.visible=!1,endBoard.visible=!1,currentRound<maxRounds&&(counterText.visible=!0,nextRoundText.visible=!0,setTimeout(()=>{counterText.text="2",setTimeout(()=>{counterText.text="1",setTimeout(()=>{this.state.start("Game")},1e3)},1e3)},1200)))},update:function(){(!gamezop.isBattleGame()&&this.spacekey.isDown||this.enterkey.isDown)&&this.startGame(),highScoreText.x=endBoard.x+140,highScoreText.y=endBoard.y+70,scoreText.x=endBoard.x-120,scoreText.y=endBoard.y+70},startGame:function(){SoundManager.instance&&click.play(),this.state.start("Game")},showAd:function(){bA=!0;try{gamezop.showAd({type:"320x50",position:"bottom",show:!0})}catch(a){bA=!1,console.log("error in showing banner ads",a)}},hideAd:function(){bA=!1;try{gamezop.showAd({type:"320x50",show:!1})}catch(a){bA=!0,console.log("error in removing banner ads",a)}},toggleSound:function(){this.game.time.time-lastSound<200||(click.play(),0==sound.frame?(sound.animations.play("off"),SoundManager.instance=null,bgMusic.volume=0,gamezop.gameMuted=!0):(sound.animations.play("on"),SoundManager.instance=1,bgMusic.volume=.5,gamezop.gameMuted=!1),lastSound=this.game.time.time+200)}},Menu={create:function(){0==(bgN=Math.floor(13*Math.random())%3)&&(bgS="bg"),1==bgN&&(bgS="bg2"),2==bgN&&(bgS="bg3"),startTime=this.game.time.time,bg=this.add.sprite(0,0,bgS),firstTouch=!1,lastPress=0,lastSound=0;var a={x:game.world.centerX,y:game.world.centerY+400};(title=this.add.sprite(a.x,a.y,"ASSETS","0013_title")).anchor.set(.5),title.scale.set(0);game.add.tween(title).to({x:game.world.centerX,y:game.world.centerY-400},1e3,Phaser.Easing.Bounce.Out,!0),game.add.tween(title.scale).to({x:1,y:1},1e3,Phaser.Easing.Bounce.Out,!0);var t={x:bg.width/2-200,y:game.world.centerY-150};(cat1=game.add.sprite(t.x,t.y,"ASSETS","0013_main-menu-catapult")).anchor.set(.5),cat1.scale.setTo(-.9,.9),game.add.tween(cat1).to({angle:360},1e3,"Quart",!0);var e={x:bg.width/2+200,y:game.world.centerY+400};(cat2=game.add.sprite(e.x,e.y,"ASSETS","0013_main-menu-catapult")).anchor.set(.5),cat2.scale.set(.9),game.add.tween(cat2).to({angle:-360},1e3,"Quart",!0),(playBut=game.add.sprite(game.world.centerX,game.world.centerY+100,"ASSETS","0012_play")).inputEnabled=!0,playBut.events.onInputUp.add(this.startGame,this),playBut.anchor.set(.5),playBut.scale.set(.9);game.add.tween(playBut.scale).to({x:.75,y:.75},500,"Linear",!0,0,-1,!0);(sound=game.add.sprite(game.world.width-75,100,"sound")).inputEnabled=!0,sound.touchEnabled=!0,sound.events.onInputUp.add(this.toggleSound,this),sound.scale.set(0),sound.anchor.set(.5),game.add.tween(sound.scale).to({x:1,y:1},1e3,"Quart",!0),sound.animations.add("off",[1],10,!1),sound.animations.add("on",[0],10,!1),click=game.add.audio("click"),this.spacekey=game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),this.enterkey=game.input.keyboard.addKey(Phaser.Keyboard.ENTER)},update:function(){(gamezop&&!gamezop.isBattleGame()&&this.spacekey.isDown||this.enterkey.isDown)&&this.startGame()},startGame:function(){this.game.time.time-lastPress<200||(SoundManager.instance&&click.play(),this.state.start("Game"),lastPress=this.game.time.time+200)},toggleSound:function(){click.play(),0==sound.frame?(sound.animations.play("off"),SoundManager.instance=null,bgMusic.volume=0,gamezop.gameMuted=!0):(sound.animations.play("on"),SoundManager.instance=1,bgMusic.volume=.5,gamezop.gameMuted=!1)}},Preload={preload:function(){game.load.atlasJSONHash("ASSETS","./assets/spritesheet.png","./assets/spritesheet.json"),game.load.image("bg","assets/0009_bg.png"),game.load.image("bg2","assets/0009_bg_b.png"),game.load.image("bg3","assets/0009_bg_c.png"),game.load.image("endBoard","assets/0014_game-over.png"),game.load.spritesheet("sound","assets/0011_mute.png",73,88),game.load.spritesheet("catapult_reset","assets/0015_catapult_reset.png",302,310),game.load.spritesheet("catapult_throw","assets/0016_catapult_throw.png",302,310),game.load.spritesheet("catapult_throw2","assets/0016_catapult_throw_b.png",302,310),game.load.spritesheet("catapult_throw3","assets/0016_catapult_throw_c.png",302,310),game.load.spritesheet("catapult_throw4","assets/0016_catapult_throw_d.png",302,310),game.load.spritesheet("catapult_throw5","assets/0016_catapult_throw_e.png",302,310),game.load.audio("caught",["assets/audio/caught.ogg","sounds/caught.mp3"]),game.load.audio("throw",["assets/audio/throw2a.ogg","assets/audio/throw2a.mp3"]),game.load.audio("click",["assets/audio/click.ogg","assets/audio/click.mp3"]),game.load.audio("wall",["assets/audio/wall.ogg","assets/audio/wall.mp3"]),game.load.audio("gameover",["assets/audio/gameover.ogg","assets/audio/gameover.mp3"]),game.load.audio("bgm",["assets/audio/BG.ogg","assets/audio/BG.mp3"]),game.load.audio("starCollect",["assets/audio/throw1b.ogg","assets/audio/throw1b.mp3"]),game.load.audio("bucketHit",["assets/audio/collect.ogg","assets/audio/collect.mp3"]),game.load.onFileComplete.add(this.fileComplete,this),game.load.onLoadComplete.add(this.loadComplete,this)},create:function(){(bgMusic=game.add.audio("bgm")).loop=!0,bgMusic.volume=.3,bgMusic.play(),this.state.start("SoundManager")},fileComplete:function(a){GZLOADER.modify(108,200),GZLOADER.loadProcess(a)},loadComplete:function(){GZLOADER.unload()}},SoundManager={create:function(){this.instance=1,gamezop.setState({state:"loaded"}),game.state.start("Menu")}},GAME_WIDTH=720,GAME_HEIGHT=1280,game=new Phaser.Game(GAME_WIDTH,GAME_HEIGHT,Phaser.CANVAS,"gameDiv");game.state.add("Boot",Boot),game.state.add("Preload",Preload),game.state.add("SoundManager",SoundManager),game.state.add("Menu",Menu),game.state.add("Game",Game),game.state.add("Continue",Continue),game.state.add("GameOver",GameOver),game.state.start("Boot");
